!function(o,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.CKEditor5=e():(o.CKEditor5=o.CKEditor5||{},o.CKEditor5.textselection=e())}(self,(()=>(()=>{var o={"ckeditor5/src/core.js":(o,e,t)=>{o.exports=t("dll-reference CKEditor5.dll")("./src/core.js")},"dll-reference CKEditor5.dll":o=>{"use strict";o.exports=CKEditor5.dll}},e={};function t(r){var s=e[r];if(void 0!==s)return s.exports;var i=e[r]={exports:{}};return o[r](i,i.exports,t),i.exports}t.d=(o,e)=>{for(var r in e)t.o(e,r)&&!t.o(o,r)&&Object.defineProperty(o,r,{enumerable:!0,get:e[r]})},t.o=(o,e)=>Object.prototype.hasOwnProperty.call(o,e);var r={};return(()=>{"use strict";t.d(r,{default:()=>s});var o=t("ckeditor5/src/core.js");class e extends o.Plugin{static get requires(){return["SourceEditing"]}static get pluginName(){return"TextSelection"}constructor(...o){super(...o),this.sourceEditingCursorPosition=-1,console.log("Textselection created.")}setCursorPos(o){console.log("Set cursorPos to:",o),0!==o.path[1]?this.sourceEditingCursorPosition=o:console.log("Skipped ...")}getCursorPos(){return this.cursorPos}init(){const o=this.editor;o.model.document.on("change",(()=>{this.saveCursorPosition()})),this.listenTo(o.plugins.get("SourceEditing"),"change:isSourceEditingMode",((o,e,t)=>{t&&this.sourceEditingCursorPosition&&this.restoreCursorPosition()}))}saveCursorPosition(){const o=this.editor.model.document.selection.getLastPosition();o?(this.setCursorPos(o),console.log("Position: ",o)):console.error("Position empty")}restoreCursorPosition(){const o=this.editor,e=o.model;this.sourceEditingCursorPosition&&e.change((e=>{const t=o.plugins.get("SourceEditing");if(t&&t.isSourceEditingMode){const o=document.querySelector(".ck-source-editing-area textarea");console.log(this.sourceEditingCursorPosition.path);const e=this.sourceEditingCursorPosition.path[1];o&&o.setSelectionRange(e,e+1)}}))}}const s={Textselection:e}})(),r=r.default})()));